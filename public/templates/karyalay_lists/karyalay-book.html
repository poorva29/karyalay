<div class="container" id="karyalay-book">
  <script type="text/ng-template" id="karyalayBooking.html">
    <div class="karyalay-book-modal">
      <div class="modal-header">
        <h4 class="modal-title text-align-to">Select Package</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <form class="form-horizontal" role="form">
            <div class="col-xs-6">
              <div class="form-group">
                <label class="control-label col-sm-2" for="subject">Subject:</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="subject" ng-model="packageDetails.subject" placeholder="Enter Subject">
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-2" for="date">Date:</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control datepicker-size" datepicker-popup="{{format}}" ng-model="packageDetails.dt" is-open="status.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                  <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                  </span>
                </div>
              </div>
              <div class="form-group timepicker-div">
                <label class="control-label col-sm-2" for="name">Time:</label>
                <div class="col-sm-4">
                  <input type="text" class="form-control" placeholder="Time from" dn-timepicker ng-model="packageDetails.from_time"/>
                </div>
                <label class="text-align-to control-label col-sm-2">To</label>
                <div class="col-sm-4">
                  <input type="text" class="form-control" placeholder="Time upto" dn-timepicker ng-model="packageDetails.to_time"/>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-2" for="pwd">A/C:</label>
                <div class="col-sm-1">
                  <checkbox class="btn-info align-checkbox" ng-model="packageDetails.has_ac"></checkbox>
                </div>
                <label class="control-label col-sm-2" for="pwd">Gardern:</label>
                <div class="col-sm-1">
                  <checkbox class="btn-info align-checkbox" ng-model="packageDetails.has_garden"></checkbox>
                </div>
                <label class="control-label col-sm-2" for="pwd">Rooms:</label>
                <div class="col-sm-4">
                  <input type="text" class="form-control" ng-model="packageDetails.num_rooms" id="rooms"/>
                </div>
              </div>
            </div>
            <div class="col-xs-6">
              <div class="form-group">
                <label class="control-label col-sm-2" for="pandits">Pandits:</label>
                <div class="col-sm-10">
                  <ui-select multiple ng-model="packageDetails.selectedPeople" ng-disabled="disabled">
                    <ui-select-match placeholder="Select pandit...">{{$item.first_name}} {{$item.last_name}}</ui-select-match>
                    <ui-select-choices repeat="person in panditList | propsFilter: {first_name: $select.search, last_name: $select.search}">
                      <div ng-bind-html="person.first_name + ' ' + person.last_name| highlight: $select.search"></div>
                      <small>
                        email: {{person.email}}
                        phone: <span ng-bind-html="''+person.phone_number | highlight: $select.search"></span>
                      </small>
                    </ui-select-choices>
                  </ui-select>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-2" for="caterers">Caterers:</label>
                <div class="col-sm-10">
                  <ui-select multiple ng-model="packageDetails.selectedCaterer" ng-disabled="disabled">
                    <ui-select-match placeholder="Select caterer...">{{$item.first_name}} {{$item.last_name}}</ui-select-match>
                    <ui-select-choices repeat="catererSel in catererList | propsFilter: {first_name: $select.search, last_name: $select.search}">
                      <div ng-bind-html="catererSel.first_name + ' ' + catererSel.last_name| highlight: $select.search"></div>
                      <small>
                        email: {{catererSel.email}}
                        phone: <span ng-bind-html="''+catererSel.phone_number | highlight: $select.search"></span>
                      </small>
                    </ui-select-choices>
                  </ui-select>
                </div>
              </div>
              <div class="form-group">
                <label class="control-label col-sm-2" for="category">Category:</label>
                <div class="col-sm-5">
                  <ui-select ng-model="category.selected" ng-disabled="disabled" on-select="fetchTags()">
                    <ui-select-match placeholder="Select Category">{{$select.selected.name}}</ui-select-match>
                    <ui-select-choices repeat="category in categoryItems | propsFilter: {name: $select.search, id: $select.search}">
                      <div ng-bind-html="category.name | highlight: $select.search"></div>
                    </ui-select-choices>
                  </ui-select>
                </div>
                <label class="control-label col-sm-2" for="tags">Quantity:</label>
                <div class="col-sm-3">
                  <div class="btn-group" dropdown keyboard-nav>
                    <select class="form-control" ng-model="quantity" ng-options="count for count in quantites" ng-change="updateQuantity(quantity)">{{count}}</select>
                  </div>
                </div>
              </div>
              <div class="form-group" ng-show="category.hasSelected">
                <label class="control-label col-sm-2" for="tags">Items:</label>
                <div class="col-sm-10">
                  <ui-select multiple ng-model="packageDetails.selectedItem" ng-disabled="disabled" on-select="selectItem($item, $model)">
                    <ui-select-match placeholder="Select item...">{{$item.name}} &#40;{{$item.quantity}}&#41;</ui-select-match>
                    <ui-select-choices repeat="item in items | propsFilter: {name: $select.search, id: $select.search}" refresh="refreshTagNames($select.search)" refresh-delay="0">
                      <div ng-bind-html="item.name | highlight: $select.search"></div>
                    </ui-select-choices>
                  </ui-select>
                </div>
              </div>
            </div>
            <legend></legend>
            <h4 class="text-align-to">Reference Information</h4>
            <div class="col-xs-6">
              <div class="form-group">
                <label class="control-label col-sm-2" for="subject">Name:</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" ng-model="packageDetails.ref_name" placeholder="Enter Party Name">
                </div>
              </div>
            </div>
            <div class="col-xs-6">
              <div class="form-group">
                <label class="control-label col-sm-2" for="subject">Number:</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" ng-model="packageDetails.ref_phone_number" placeholder="Enter Party Number">
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
      </div>
    </div>
  </script>
  <div id="layoutKaryalay">
    <div flash-message="5000" ></div>
  </div>
  <div ui-calendar="uiConfig.calendar" ng-model="eventSources"></div>
</div>